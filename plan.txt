Kit:

3v Laser rangefinder off aliexpress with serial comms
4-way conector for this...
MPU 9250
SH1106
SSD1306 display

MCP1710 power supply for PIC
PIC32MM0256GPL028 - processor
5-way connector for programming

Also a.N.other LDO to provide power for peripherals...
use CC0805KKX5R8BB475 as caps - 4.7uF 25V cap in 0805 package

MAX1555 usb lipo charger

300mAH lipo battery
JST connector

A button
Hammond enclosure as before
possibly 3d printed adapter for rangefinder within enclosure
waterproof micro usb connector + dust plug

Use low power timing crystal for RTCC

Hardware Tasks:
. Solder up rangefinder and attach header for crimping
. Adjust footprint for display so fits properly
. add leds to pcb
. update footprints for JST and USB connectors



Firmware Tasks:
. Get button working - probably as an interrupt
. get flick working  - repeatedly poll and use hysteresis
. get rangefinder working DONE
. Get menu working DONE
. Get sleep and wakeup working DONE
. Get configuration working DONE
. Get visualiser working - work as "cave window", so adjust view according to angle of device


PC software
. note needs freetype-py and sparse_list

DEVICE Axes:
X = towards top of display with laser pointing left
Y = along laser
Z = coming out of surface of display upwards...

WORLD Axes:
X = EAST
Y = NoRTH
Z = UP

measure function pseudocode

START
wait for button press... }
if double_click:         }
  exit                   } measure_get_reading
else:                    }
  take measurement       }
  
display menu             }
if exit:                 }
  exit                   } measure_show_reading
else:                    }
  go to start            }
END

so main measure function goes
while (1):
    measure_get_reading()
    if measure_exit:
       exit
    measure_show_reading()
    if measure_exit:
       exit



post-measure menu

Readings  - no action, just visible
Discard
Store -> (assuming "last visited station==1")
    1->2
    1->Splay
    2->1
    2->Splay
    Custom - needs separate code to run...
    Back
Back (to main menu...)
